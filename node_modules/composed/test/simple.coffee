composer = require '../src/compose'


module.exports =
    'no middleware will return next': (test) ->
        composed = composer()
        composed {}, {}, test.done

    'sequential': (test) ->
        hitA = false
        hitB = false

        a = (req, res, next) -> next hitA = true
        b = (req, res ,next) ->
            test.ok hitA
            next hitB = true

        c = (req, res, next) ->
            test.ok hitA
            test.ok hitB
            test.done()

        composed = composer a, b, c
        composed()
